# AI Agent Guidelines - GameWiki

> **Generated by**: [golden-agents](https://github.com/bordenet/golden-agents) v1.4.0 (progressive)
> **Last Updated**: 2026-02-05
> **Languages**: javascript
> **Type**: general

Minimal core with on-demand module loading. Templates at: `$HOME/.golden-agents/templates/`
<!-- GOLDEN:self-manage:start -->
## âš ï¸ Before ANY Task
1. Load `.ai-guidance/invariants.md` â€” contains critical rules
2. After editing ANY guidance file, check: `wc -l Agents.md .ai-guidance/*.md 2>/dev/null`
   - `Agents.md` >250 lines â†’ refactor into `.ai-guidance/`
   - Any `.ai-guidance/*.md` >250 lines â†’ split into sub-directory
<!-- GOLDEN:self-manage:end -->
<!-- GOLDEN:framework:start -->

---

## Quality Gates (MANDATORY)

Before ANY commit:
1. **Lint**: `npm run lint`
2. **Build**: `npm run build`
3. **Test**: `npm test`
4. **Coverage**: Minimum 70%

**Order matters.** Lint â†’ Build â†’ Test. Never skip steps.

---

## Communication Rules

- **No flattery** - Skip "Great question!" or "Excellent point!"
- **No hype** - Avoid "revolutionary", "game-changing", "seamless"
- **Evidence-based** - Cite sources or qualify as opinion
- **Direct** - State facts without embellishment

**Banned phrases**: production-grade, world-class, leverage, utilize, incredibly, extremely, Happy to help!

---

## ğŸš¨ Progressive Module Loading

**STOP and load the relevant module BEFORE these actions:**

### Language Modules (ğŸ”´ Required)
- ğŸ”´ **BEFORE writing ANY `.js`, `.ts`, `.jsx`, `.tsx` file**: Read `$HOME/.golden-agents/templates/languages/javascript.md`

### Workflow Modules (ğŸ”´ Required)
- ğŸ”´ **BEFORE any commit, PR, push, or merge**: Read `$HOME/.golden-agents/templates/workflows/security.md`
- ğŸ”´ **WHEN tests fail OR after 2+ failed fix attempts**: Read `$HOME/.golden-agents/templates/workflows/testing.md`
- ğŸ”´ **WHEN build fails OR lint errors appear**: Read `$HOME/.golden-agents/templates/workflows/build-hygiene.md`
- ğŸŸ¡ **BEFORE deploying to any environment**: Read `$HOME/.golden-agents/templates/workflows/deployment.md`
- ğŸŸ¡ **WHEN conversation exceeds 50 exchanges**: Read `$HOME/.golden-agents/templates/workflows/context-management.md`

### Optional: Superpowers integration

If [superpowers](https://github.com/obra/superpowers) is installed, run at session start:

```bash
node ~/.codex/superpowers-augment/superpowers-augment.js bootstrap
```

<!-- GOLDEN:framework:end -->

---

## Project-Specific Rules

This is a genesis-tools project. See parent repo [genesis](https://github.com/bordenet/genesis) for patterns.

**Key skills to invoke:**
| Skill | When to Use |
|-------|-------------|
| `superpowers:brainstorming` | Before creative/feature work |
| `superpowers:systematic-debugging` | Before fixing bugs |
| `superpowers:test-driven-development` | Before writing implementation |
| `superpowers:verification-before-completion` | Before claiming done |

---

## Communication Standards

### Banned Phrases
| AI Tells | leverage, utilize, facilitate, streamline, optimize |
| Filler | It's important to note, It's worth mentioning, Interestingly |
| Sycophancy | Great question!, Happy to help!, Excellent point! |

### Evidence-Based Claims
Every claim requires evidence. No unsubstantiated assertions.

---

## Quality Gates

**Before ANY commit:**
```bash
npm run lint
npm test
npm run build
```

---

## Context Management

- **Context rot**: Model accuracy degrades as context fills. Keep tokens high-signal.
- **Progressive disclosure**: Load Agents.md always, modules on-demand, code just-in-time.
- **At 75% context**: Summarize conversation history, drop low-value context.
- **Session resumption**: Check `git status`, `git log -5`, load notes before proceeding.

---

## Project-Specific Guidelines

# AI Assistant Instructions for Dim Lantern (GameWiki)

**CRITICAL**: Read this file FIRST before working on this codebase.

> **âš ï¸ IMPORTANT**: GameWiki has an **intentionally different workflow** from the other genesis-based tools (architecture-decision-record, one-pager, power-statement-assistant, pr-faq-assistant, product-requirements-assistant, strategic-proposal). Do NOT attempt to align GameWiki's structure, UI, or workflow with those tools. Only fix mechanically broken things and update dependencies when requested.

---

## ğŸ¯ Project Overview

**Dim Lantern** is a GM Documentation System for D&D 5E campaigns. It processes session transcripts through a 3-phase AI workflow to generate structured wiki pages for Obsidian.

- **Phase 1: Extract** (Claude Sonnet 4) - Extract locations and plot threads from transcripts
- **Phase 2: Summarize** (Claude Sonnet 4) - Generate Obsidian-compatible wiki pages
- **Phase 3: Refine** (Gemini 2.5 Pro) - Validate accuracy and improve output

---

## ğŸ—ï¸ Project Structure

```
GameWiki/
â”œâ”€â”€ docs/                    # Web application (GitHub Pages)
â”‚   â”œâ”€â”€ index.html          # Main application
â”‚   â”œâ”€â”€ css/styles.css      # D&D-themed styling
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js          # Main application logic
â”‚   â”‚   â”œâ”€â”€ storage.js      # IndexedDB storage
â”‚   â”‚   â””â”€â”€ workflow.js     # 3-phase workflow engine
â”‚   â”œâ”€â”€ tests/              # Jest unit tests
â”‚   â””â”€â”€ prompts/            # Prompt documentation
â”œâ”€â”€ README.md               # Project overview
â”œâ”€â”€ Agents.md               # This file
â””â”€â”€ LICENSE                 # MIT License
```

---

## ğŸ“‹ Standard Workflow

### When Creating/Modifying Code
1. âœ… Make changes
2. âœ… Run linter: `cd docs && npm run lint`
3. âœ… Run tests: `cd docs && npm test`
4. âœ… Verify all checks pass
5. âœ… **Tell user: what's done, what's left**

### Test Commands
```bash
cd docs

# Run all tests
npm test

# Run with coverage
npm run test:coverage

# Run linter
npm run lint

# Fix linting errors
npm run lint:fix
```

---

## ğŸš« What NOT to Do

### NEVER
- âŒ Commit `node_modules/` or `coverage/`
- âŒ Create files without linting them
- âŒ Create tests without running them
- âŒ Make user ask "what's left?" multiple times
- âŒ Use hyperbolic language ("amazing", "revolutionary")
- âŒ Do more than the user asked
- âŒ **Align GameWiki with other genesis-based tools** (intentionally different)

### ALWAYS
- âœ… Lint after creating/modifying code
- âœ… Run tests after creating/modifying tests
- âœ… Proactively communicate what's left
- âœ… Use factual, professional language
- âœ… Ask before committing, pushing, or deploying

---

## ğŸ§ª Testing Standards

- **Coverage target**: 70% minimum
- **Test location**: `docs/tests/`
- **Framework**: Jest with jsdom environment
- **Storage mock**: fake-indexeddb

### Current Tests
- `workflow.test.js` - Session creation, prompts, validation, phases, tags
- `storage.test.js` - IndexedDB operations for sessions, locations, plot threads

---

## ğŸ“ Communication Style

### Status Update Template
```
âœ… Completed:
- [Specific action 1]
- [Specific action 2]

âœ… Quality Checks:
- Linting: PASSED (0 errors)
- Tests: PASSED (40/40)

âœ… What's Left:
- [Specific remaining task 1]
- [Specific remaining task 2]
```

---

## ğŸ”— Related Projects

- **Genesis**: Template system from which this project originally derived (now divergedâ€”GameWiki does not receive Genesis upgrades)
- **Live App**: https://bordenet.github.io/GameWiki/
- **Repository**: https://github.com/bordenet/GameWiki
